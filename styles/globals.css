@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --navigation-height: 4.8rem;
  }

  html {
    @apply bg-background font-sans text-off-white;
    font-size: 62.5%;
    background-color: #000;
  }

  body {
    background-color: #000;
  }

  .highlighted-keys .active rect:first-child {
    fill-opacity: 0.4;
  }

  .highlighted-keys .active rect:not(:first-child) {
    stroke-opacity: 1;
  }

  .highlighted-keys .active path {
    fill-opacity: 1;
  }
}

@layer utilities {
  .text-shadow {
    text-shadow: rgb(0 0 0 / 56%) 0px 3px 12px;
  }

  .text-gradient {
    background: linear-gradient(to right bottom, rgb(255, 255, 255) 30%, rgba(255, 255, 255, 0.38));
    background-clip: text;
    color: transparent;
  }

  .mask-radial-faded {
    mask-image: radial-gradient(circle at center center, black, transparent 80%)
  }

  .mask-linear-faded {
    mask-image: linear-gradient(black, transparent 70%)
  }

  .mask-keyboard {
    mask-image: linear-gradient(transparent 0%, rgba(0, 0, 0, 0.57) 33.98%, black 100%);
  }

  .mask-shortcutkeys {
    mask-image: linear-gradient(to right, transparent, black 40%, black calc(60%), transparent 100%);
  }

  /* Modern Linear Glass Card */
  .glass-card {
    background: rgba(255, 255, 255, 0.03);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
  }

  /* Hover effect for glass cards */
  .glass-card:hover {
    background: rgba(255, 255, 255, 0.06);
    border-color: rgba(255, 255, 255, 0.15);
  }

  /* Animated gradient logo */
  @keyframes gradient-shift {
    0% {
      background-position: 0% 50%;
    }

    50% {
      background-position: 100% 50%;
    }

    100% {
      background-position: 0% 50%;
    }
  }

  .logo-gradient {
    background: linear-gradient(to right,
        #fff 0%,
        #fff 40%,
        #858699 50%,
        #fff 60%,
        #fff 100%);
    background-size: 200% auto;
    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;
    animation: shine 6s linear infinite;
  }

  @keyframes shine {
    0% {
      background-position: -100% center;
    }

    100% {
      background-position: 100% center;
    }
  }

  /* Icon Menu — Expanding Pill */
  .nav-icon-link {
    @apply relative flex items-center h-10 rounded-full transition-all duration-500;
    transition-timing-function: cubic-bezier(0.25, 1, 0.5, 1);
    width: auto;
    background: transparent;
    padding-left: 12px;
    padding-right: 12px;
  }

  /* Center icon initially using padding */
  .nav-icon-wrapper {
    @apply flex items-center justify-center w-4 h-4 flex-shrink-0;
  }

  .nav-icon-link:hover {
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(8px);
    box-shadow: 0 0 12px rgba(255, 255, 255, 0.1);
    padding-right: 16px;
  }

  .nav-icon-link:hover .nav-icon {
    @apply opacity-100 scale-100;
    filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.6));
  }

  .nav-icon {
    @apply opacity-60 transition-all duration-300;
  }

  .nav-label {
    @apply opacity-0 max-w-0 transition-all duration-500 whitespace-nowrap overflow-hidden;
    transition-timing-function: cubic-bezier(0.25, 1, 0.5, 1);
    margin-left: 0;
  }

  .nav-icon-link:hover .nav-label {
    @apply opacity-100 max-w-[200px];
    margin-left: 8px;
  }

  /* Text Action Button (Glass Style) */
  .nav-action-btn {
    @apply relative flex items-center justify-center px-6 h-10 rounded-full text-sm font-semibold text-white/90 transition-all duration-300;
    border: 1px solid rgba(255, 255, 255, 0.15);
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(12px);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  }

  .nav-action-btn:hover {
    @apply text-white;
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.4);
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.1);
    transform: translateY(-1px);
  }

  /* Sparkle button particles */
  @keyframes ze-sparkle {
    0% {
      opacity: 1;
      transform: translate(0, 0) rotate(0deg) scale(0);
    }
    25% {
      opacity: 1;
      transform: translate(calc(var(--tx) * 0.4), calc(var(--ty) * 0.4)) rotate(calc(var(--rot) * 0.4)) scale(1);
    }
    100% {
      opacity: 0;
      transform: translate(var(--tx), var(--ty)) rotate(var(--rot)) scale(0.4);
    }
  }

  /* Letter animation on load */
  @keyframes letter-appear {
    from {
      opacity: 0;
      transform: translateY(10px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-letter {
    display: inline-block;
    animation: letter-appear 0.4s ease forwards;
    opacity: 0;
  }

  /* Active menu item */
  .menu-active {
    @apply text-white !important;
    position: relative;
  }

  .menu-active::after {
    content: '';
    position: absolute;
    bottom: -4px;
    left: 0;
    width: 100%;
    height: 1px;
    background: linear-gradient(90deg, transparent, #fff, transparent);
  }

  /* Button pulse animation */
  @keyframes pulse {

    0%,
    100% {
      box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.4);
    }

    50% {
      box-shadow: 0 0 20px 5px rgba(255, 255, 255, 0.2);
    }
  }

  .btn-pulse {
    animation: pulse 2s ease-in-out infinite;
  }

  /* Button ripple effect */
  .btn-ripple {
    position: relative;
    overflow: hidden;
  }

  .btn-ripple::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    transition: width 0.4s ease, height 0.4s ease;
  }

  .btn-ripple:active::after {
    width: 200px;
    height: 200px;
  }
}

/* Video Mask Fade */
.mask-linear-fade {
  mask-image: linear-gradient(to bottom, black 50%, transparent 100%);
  -webkit-mask-image: linear-gradient(to bottom, black 50%, transparent 100%);
}

/* Shimmer — луч через overlay, текст не двигается */
@keyframes shimmer-beam {
  0% {
    transform: translateX(-150%);
  }

  100% {
    transform: translateX(400%);
  }
}

.text-shimmer-desc {
  position: relative;
  overflow: hidden;
  color: rgba(255, 255, 255, 0.42);
}

.text-shimmer-desc::after {
  content: '';
  position: absolute;
  top: -20%;
  left: 0;
  width: 35%;
  height: 140%;
  background: linear-gradient(90deg,
      transparent,
      rgba(255, 255, 255, 0.5),
      transparent);
  animation: shimmer-beam 10s ease-in-out infinite;
  pointer-events: none;
  mix-blend-mode: overlay;
  filter: blur(6px);
}